(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{219:function(e,a,t){e.exports=t.p+"static/media/logo.6dc431e7.svg"},226:function(e,a,t){e.exports=t(428)},231:function(e,a,t){},307:function(e,a,t){},428:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(5),l=t.n(c),o=t(11),i=t(2),m=t(15),u=(t(231),t(14)),s=t.n(u),p=t(26),d=t(123),E=t(57),f=t.n(E),b=t(439),g=function(e,a){var t=Math.ceil(1e4*Math.random()).toString(),n=a.method,r=void 0===n?"POST":n,c=y({url:e,method:r},{manual:!0}),l=Object(i.a)(c,2),o=l[0],m=o.data,u=o.loading,d=o.error,E=l[1],f=function(e,n){if(a.message&&a.message[e]){var r=a.message[e],c="";"string"===typeof r?c=r:"function"===typeof r&&(c=r.apply(null,(null===n||void 0===n?void 0:n.params)||[])),b.a[e]({content:c,key:t})}else(null===n||void 0===n?void 0:n.default)&&b.a[e]({content:n.default,key:t})};return[{data:m,loading:u,error:d},function(){var a=Object(p.a)(s.a.mark((function a(t){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return f("loading"),a.prev=1,a.next=4,E(t);case 4:f("success"),a.next=12;break;case 7:a.prev=7,a.t0=a.catch(1),n=a.t0.response,console.log("Error on request ".concat(r," to ").concat(e),n),f("error",{default:n.status>=500?"Server error. Try again later!":"Error processing your request.",params:[n]});case 12:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()]},h="https://microfrontend-marketplace.appspot.com/",v=Object(d.a)({axios:f.a.create({baseURL:h})}),y=Object(d.a)({axios:null}),O=Object(d.a)({axios:null}),j=function(e){var a;!function(e){var a=f.a.create({baseURL:h,headers:{Authorization:"".concat(e.token_type," ").concat(e.access_token)}});a.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status?(localStorage.removeItem("auth"),void window.location.reload()):Promise.reject(e)})),y.configure({axios:a})}(e.api),a=e.github,O.configure({axios:f.a.create({baseURL:"https://api.github.com",headers:{Authorization:"".concat(a.token_type," ").concat(a.access_token)}})})},I=t(437),k=t(441),x=t(430),w=t(36),N=t(83),S=t(39),T=t(434),A=t(189),C=t(190),_=t(224),P=t(221),F=t(438),M=t(197),z=F.a.Title,L=function(e){Object(_.a)(t,e);var a=Object(P.a)(t);function t(){return Object(A.a)(this,t),a.apply(this,arguments)}return Object(C.a)(t,[{key:"render",value:function(){var e=this.props,a=e.title,t=e.children,r=e.loading;return n.createElement("section",null,n.createElement(z,{level:4},a),r?n.createElement(N.a,{justify:"center"},n.createElement(M.a,{size:"large"})):t)}}]),t}(n.Component),U=function(e){var a=e.applicationId,t=y("/microfrontends?applicationId=".concat(a)),c=Object(i.a)(t,2),l=c[0],m=l.data,u=l.loading,s=c[1];return Object(n.useEffect)((function(){s()}),[s]),r.a.createElement(L,{title:"Microfrontends",loading:u},r.a.createElement(N.a,{gutter:[16,24]},m&&m.map((function(e){return r.a.createElement(S.a,{span:6,key:e.id},r.a.createElement(T.a,{title:e.name,extra:r.a.createElement(o.b,{to:"../microfrontend/".concat(e.id)},"Edit")},e.name))}))))},V=function(e){var a=e.namespaces;return n.createElement(L,{title:"Namespaces"},n.createElement(N.a,{gutter:[16,24]},a&&a.map((function(e){return n.createElement(S.a,{span:6,key:e.id},n.createElement(T.a,{title:e.name,extra:n.createElement(o.b,{to:"../namespace/".concat(e.id)},"Edit")},e.name))}))))},R=t(440),D=t(429);t(307);function B(e){var a=Object(m.g)(),t=e.title,r=e.children,c=e.actions,l=e.loading,o=e.subTitle,i=e.rootPage;return n.createElement(R.a,Object.assign({className:"page",title:t,subTitle:o,extra:c},i?{}:{onBack:function(){return a.goBack()}}),n.createElement(D.a,{style:{marginTop:"0px"}}),l?n.createElement(N.a,{justify:"center"},n.createElement(M.a,{size:"large"})):r)}var H=function(e){var a=e.children,t=e.title,c=e.applicationId,l=Object(m.i)().applicationId,o=y("/applications/".concat(void 0===l?c:l)),u=Object(i.a)(o,2),s=u[0],p=s.data,d=s.loading,E=u[1];return Object(n.useEffect)((function(){E()}),[E]),r.a.createElement(B,{title:t,loading:d},!d&&a(p))},J=function(e){var a=e.application,t=g("/applications/".concat(a.id),{method:"PUT",message:{success:"Application saved"}}),c=Object(i.a)(t,2),l=c[0],u=l.data,d=l.error,E=l.loading,f=c[1],b=g("/applications/".concat(a.id,"/deploy"),{method:"POST",message:{success:"Deploy done"}}),h=Object(i.a)(b,2),v=h[0].loading,O=h[1],j=y("/namespaces?applicationId=".concat(a.id)),N=Object(i.a)(j,2),S=N[0],T=S.data,A=S.loading,C=N[1];Object(n.useEffect)((function(){C()}),[C]);var _=function(){var e=Object(p.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({data:a});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return A||!T?null:E||!u||d?r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{onFinish:_,initialValues:a},r.a.createElement(I.a.Item,{label:"Name",name:"name"},r.a.createElement(k.a,null)),r.a.createElement(I.a.Item,{label:"Slack Channel Id",name:"slackChannelId"},r.a.createElement(k.a,null)),r.a.createElement(I.a.Item,null,r.a.createElement(x.a,null,r.a.createElement(w.a,{type:"primary",htmlType:"submit"},"Save"),r.a.createElement(o.b,{to:"../github?applicationId=".concat(a.id)},r.a.createElement(w.a,{type:"ghost"},"New Microfrontend")),r.a.createElement(o.b,{to:"../namespace/new?applicationId=".concat(a.id)},r.a.createElement(w.a,{type:"ghost"},"New Namespace")),1===T.length?r.a.createElement(o.b,{to:"../namespace/".concat(T[0].id,"/deploy/next")},r.a.createElement(w.a,{type:"ghost"},"Prepare next deploy")):null,r.a.createElement(w.a,{type:"ghost",loading:v,onClick:function(){return O()}},"Deploy")))),T.length>1&&r.a.createElement(V,{namespaces:T}),r.a.createElement(U,{applicationId:a.id})):r.a.createElement(m.a,{to:"../application"})},q=function(){return r.a.createElement(H,{title:"Application details"},(function(e){return r.a.createElement(J,{application:e})}))},G=t(435);var K=function(){var e=y("/applications",{manual:!0}),a=Object(i.a)(e,2),t=a[0].data,c=a[1];return Object(n.useEffect)((function(){c()}),[c]),t?r.a.createElement(B,{title:"Applications",rootPage:!0},r.a.createElement(G.b,{itemLayout:"vertical",size:"large",dataSource:t,renderItem:function(e){return r.a.createElement(G.b.Item,{key:e.id,extra:r.a.createElement(o.b,{to:"./application/".concat(e.id)},"Edit")},r.a.createElement(G.b.Item.Meta,{title:e.name,description:e.description}))}})):null};var W=function(){var e=Object(m.j)();return r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"".concat(e.path,"/:applicationId")},r.a.createElement(q,null)),r.a.createElement(m.b,{path:e.path},r.a.createElement(K,null)))},Y=t(63),Q=t(443),X=F.a.Title,Z=function(e){var a=e.microfrontend,t=!a.id,n=Object(m.g)(),c=y({url:"/microfrontends/".concat(a.id,"/sync"),method:"POST"},{manual:!0}),l=Object(i.a)(c,2)[1],o=y("/versions?microfrontendId=".concat(a.id)),u=Object(i.a)(o,1)[0].data,d=void 0===u?[]:u,E=y({url:"/microfrontends".concat(t?"":"/".concat(a.id)),method:t?"POST":"PUT"},{manual:!0}),f=Object(i.a)(E,2),b=f[0].data,g=f[1],h=function(){var e=Object(p.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({data:Object(Y.a)({},a)});case 2:n.goBack();case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b?null:r.a.createElement(B,{title:t?"Creating":"Editing ".concat(a.name)},r.a.createElement(I.a,{labelCol:{span:2},name:"basic",initialValues:a,onFinish:h,onFinishFailed:function(e){console.log("Failed:",e)}},r.a.createElement(I.a.Item,{label:"Name",name:"name"},r.a.createElement(k.a,null)),r.a.createElement(I.a.Item,{label:"Package name",name:"packageName"},r.a.createElement(k.a,null)),r.a.createElement(I.a.Item,null,r.a.createElement(w.a,{type:"primary",htmlType:"submit"},"Save"),r.a.createElement(w.a,{type:"ghost",onClick:v},"Sync Versions"))),t?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null,"History"),r.a.createElement(Q.a,null,d.map((function(e){return r.a.createElement(Q.a.Item,{key:e.id,color:"green"},"Version ",e.name," created at ",e.createdAt)})))))};var $=function(){var e=Object(m.i)().microfrontendId,a=y("/microfrontends/".concat(e)),t=Object(i.a)(a,1)[0],n=t.data;return t.loading?r.a.createElement("div",null,"loading"):r.a.createElement(Z,{microfrontend:n})};var ee=function(){return r.a.createElement(Z,{microfrontend:{}})};var ae=function(){var e=y("/microfrontends",{manual:!0}),a=Object(i.a)(e,2),t=a[0].data,c=a[1];return Object(n.useEffect)((function(){c()}),[c]),t?r.a.createElement(B,{title:"Microfrontends",rootPage:!0},r.a.createElement(G.b,{itemLayout:"vertical",size:"large",dataSource:t,renderItem:function(e){return r.a.createElement(G.b.Item,{key:e.id,extra:r.a.createElement(o.b,{to:"./microfrontend/".concat(e.id)},"Edit")},r.a.createElement(G.b.Item.Meta,{title:e.name,description:e.description}))}})):null};var te=function(){var e=Object(m.j)();return r.a.createElement("div",null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"".concat(e.path,"/new")},r.a.createElement(ee,null)),r.a.createElement(m.b,{path:"".concat(e.path,"/:microfrontendId")},r.a.createElement($,null)),r.a.createElement(m.b,{path:e.path},r.a.createElement(ae,null))))},ne=t(432),re=t(155),ce=t(433),le=t(205),oe=t(449),ie=t(450),me=t(451),ue=t(452),se=t(453),pe=t(454),de=t(455),Ee=t(442),fe=t(431);var be=function(){return new URLSearchParams(Object(m.h)().search)};function ge(e){var a=e.application,t=Object(m.i)(),c=t.owner,l=t.repositoryName,o="".concat(c,"/").concat(l),u=I.a.useForm(),d=Object(i.a)(u,1)[0],E=Object(n.useState)("application"),f=Object(i.a)(E,2),b=f[0],h=f[1],v=Object(n.useState)(!1),y=Object(i.a)(v,2),j=y[0],x=y[1],N=!a,S=!a&&"microfrontend"===b,T=O("/repos/".concat(o)),A=Object(i.a)(T,1)[0],C=A.data,_=A.loading,P=g("/applications/import",{message:{success:"Application imported"}}),F=Object(i.a)(P,2),M=F[0],z=M.data,L=M.loading,U=F[1],V=g("/microfrontends/import",{message:{success:"Mifrofrontend imported"}}),R=Object(i.a)(V,2),D=R[0],B=D.data,H=D.loading,J=R[1],q=function(){var e=Object(p.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("application"!==t.importType){e.next=4;break}return e.next=3,U({data:{repositoryName:o,packageName:t.packageName,name:t.name}});case 3:return e.abrupt("return");case 4:return e.next=6,J({data:{repositoryName:o,applicationId:(null===a||void 0===a?void 0:a.id)||t.applicationId,packageName:t.packageName,name:t.name}});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return!L&&z?r.a.createElement(m.a,{to:"../../../application/".concat(z.id)}):!H&&B?r.a.createElement(m.a,{to:"../../../microfrontend/".concat(B.id)}):_?r.a.createElement("span",null,"loading"):r.a.createElement(I.a,{form:d,initialValues:{importType:b,name:C.name,packageName:C.name},onValuesChange:function(e){e.importType&&h(e.importType),e.name&&x(!0),void 0===e.packageName||j||d.setFieldsValue({name:e.packageName})},onFinish:q},a&&r.a.createElement(Ee.a,{title:"Repository infos"},r.a.createElement(Ee.a.Item,{label:"Application destiny"},a.name)),r.a.createElement(I.a.Item,{label:"Package name",name:"packageName"},r.a.createElement(k.a,null)),r.a.createElement(I.a.Item,{label:"Name",name:"name"},r.a.createElement(k.a,null)),N&&r.a.createElement(I.a.Item,{label:"Import type",name:"importType"},r.a.createElement(fe.default.Group,{value:b},r.a.createElement(fe.default.Button,{value:"application"},"Application"),r.a.createElement(fe.default.Button,{value:"microfrontend"},"Microfrontend"))),S&&r.a.createElement(I.a.Item,{label:"Application Id",name:"applicationId"},r.a.createElement(k.a,null)),r.a.createElement("div",null,r.a.createElement(w.a,{htmlType:"submit",type:"primary",disabled:L||H},"Import")))}var he=function(){var e=be().get("applicationId");return e?r.a.createElement(H,{title:"Import repository",applicationId:e},(function(e){return r.a.createElement(ge,{application:e})})):r.a.createElement(B,{title:"Import repository"},r.a.createElement(ge,null))},ve=t(444),ye=t(445),Oe=t(446),je=t(447),Ie=function(e){var a=e.icon,t=e.text;return r.a.createElement("span",null,r.a.createElement(a,{style:{marginRight:8}}),t)},ke=function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],c=a[1],l=O("/user/repos?type=owner"),m=Object(i.a)(l,1)[0],u=m.data,s=m.loading,p=be(),d=function(e){var a="./github/import/".concat(e.full_name);return p.get("applicationId")&&(a+="?applicationId=".concat(p.get("applicationId"))),a};return r.a.createElement(B,{title:"Github Repositories",rootPage:!0},r.a.createElement(k.a,{size:"large",placeholder:"Search",prefix:r.a.createElement(ve.a,null),value:t,onChange:function(e){return c(e.target.value)}}),r.a.createElement(G.b,{itemLayout:"vertical",size:"large",loading:s,dataSource:(u||[]).filter((function(e){return e.name.indexOf(t)>-1})),renderItem:function(e){return r.a.createElement(G.b.Item,{key:e.id,actions:[r.a.createElement(Ie,{icon:ye.a,text:e.stargazers_count,key:"list-vertical-star-o"}),r.a.createElement(Ie,{icon:Oe.a,text:e.open_issues,key:"list-vertical-message"})],extra:r.a.createElement(o.b,{to:d(e)},"Import")},r.a.createElement(G.b.Item.Meta,{avatar:r.a.createElement(le.a,{icon:r.a.createElement(je.a,null)}),title:e.name,description:e.description}))}}))};var xe=function(){var e=Object(m.j)();return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"".concat(e.path)},r.a.createElement(ke,null)),r.a.createElement(m.b,{path:"".concat(e.path,"/import/:owner/:repositoryName")},r.a.createElement(he,null)))};var we=function(){var e=y("/users/me"),a=Object(i.a)(e,1)[0],t=a.data,n=a.loading,c=g("/users/me",{method:"put",message:{success:"User saved"}}),l=Object(i.a)(c,2),o=l[0].loading,m=l[1],u=function(){var e=Object(p.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({data:a});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(B,{title:"Profile",rootPage:!0},n?r.a.createElement(M.a,{size:"large"}):r.a.createElement(I.a,{name:"basic",initialValues:t,onFinish:u},r.a.createElement(I.a.Item,{label:"Github Token",name:"githubToken"},r.a.createElement(k.a,null)),r.a.createElement(I.a.Item,{label:"Slack Token",name:"slackToken"},r.a.createElement(k.a,null)),r.a.createElement(I.a.Item,null,r.a.createElement(x.a,null,r.a.createElement(w.a,{type:"primary",htmlType:"submit",loading:o},"Save")))))},Ne=t(436),Se=t(97),Te=t(448),Ae=function(e){var a=e.namespaceId,t=y("/namespaces/".concat(a,"/history")),r=Object(i.a)(t,1)[0],c=r.data,l=r.loading;return n.createElement(L,{title:"Deploys",loading:l},n.createElement(Q.a,null,c&&c.deploys.map((function(e){return n.createElement(Q.a.Item,{color:"green"},"Deploy ",e.id," created at ",e.createdAt)}))))};var Ce=function(e){var a=e.children,t=e.title,n=e.namespaceId,c=Object(m.i)().namespaceId,l=y("/namespaces/".concat(void 0===c?n:c)),o=Object(i.a)(l,1)[0],u=o.data,s=o.loading;return s?null:t?r.a.createElement(B,{title:t,loading:s},!s&&a(u)):a(u)},_e=Ne.a.confirm,Pe=function(e){return function(){_e({title:"Are you sure delete this namespace?",icon:r.a.createElement(Te.a,null),content:"This action cannot be undone",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){e()}})}},Fe=function(e){var a=e.namespace,t=!a.id,n=g("/namespaces".concat(t?"":"/".concat(a.id)),{method:t?"POST":"PUT",message:{success:"Namespace saved"}}),c=Object(i.a)(n,2),l=c[0],u=l.data,d=l.error,E=l.loading,f=c[1],b=g("/namespaces/".concat(a.id),{method:"DELETE",message:{success:"Namespace deleted"}}),h=Object(i.a)(b,2),v=h[0],y=v.data,O=v.error,j=v.loading,N=h[1],S=function(){var e=Object(p.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(Object(Y.a)(Object(Y.a)({},a),{},{data:Object(Y.a)(Object(Y.a)({},a),t)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();if(!E&&u&&!d||!j&&y&&!O)return r.a.createElement(m.a,{to:"../application/".concat(a.applicationId)});var T=r.a.createElement(w.a,{type:"dashed",onClick:Pe(N),loading:j,disabled:a.isMain},"Delete");return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{onFinish:S,initialValues:a},r.a.createElement(I.a.Item,{label:"Name",name:"name"},r.a.createElement(k.a,null)),r.a.createElement(I.a.Item,{label:"Url path",name:"path"},r.a.createElement(k.a,null)),r.a.createElement(I.a.Item,null,r.a.createElement(x.a,null,r.a.createElement(w.a,{type:"primary",htmlType:"submit"},"Save"),!t&&(a.isMain?r.a.createElement(Se.a,{placement:"topLeft",title:"Cannot delete main namespace"},T):T),!t&&r.a.createElement(o.b,{to:"./".concat(a.id,"/deploy/next")},r.a.createElement(w.a,{type:"ghost"},"Update next deploy")))),!t&&r.a.createElement(Ae,{namespaceId:a.id})))},Me=function(){return r.a.createElement(Ce,{title:"Namespace details"},(function(e){return r.a.createElement(Fe,{namespace:e})}))},ze=function(){var e=be().get("applicationId");return r.a.createElement(B,{title:"New namespace"},r.a.createElement(Fe,{namespace:{applicationId:e}}))},Le=t(96);function Ue(e){var a=e.microfrontend,t=y("/versions?microfrontendId=".concat(a.id)),n=Object(i.a)(t,1)[0],c=n.data;return n.loading?r.a.createElement("span",null,"loading"):r.a.createElement(I.a.Item,{label:a.name,name:a.id,required:!0},r.a.createElement(Le.a,null,c.map((function(e){return r.a.createElement(Le.a.Option,{key:e.id,value:e.id},e.name)}))))}function Ve(e){var a=e.namespace,t=y("/namespaces/".concat(a.id,"/deploy/next")),n=Object(i.a)(t,1)[0],c=n.data,l=n.loading,o=y("/microfrontends?applicationId=".concat(a.applicationId)),m=Object(i.a)(o,1)[0].data,u=g("/namespaces/".concat(a.id,"/deploy/next"),{method:"PUT",message:{success:"Next deploy saved"}}),d=Object(i.a)(u,2),E=d[0].loading,f=d[1],b=function(){var e=Object(p.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({data:{versions:a}});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l?null:r.a.createElement(B,{title:"Configure next deploy in namespace ".concat(a.name)},r.a.createElement(I.a,{name:"basic",onFinish:b,initialValues:c.versions},m&&m.map((function(e){return r.a.createElement(Ue,{key:e.id,microfrontend:e})})),r.a.createElement(I.a.Item,null,r.a.createElement(x.a,null,r.a.createElement(w.a,{type:"primary",htmlType:"submit",loading:E},"Save")))))}var Re=function(){return r.a.createElement(Ce,null,(function(e){return r.a.createElement(Ve,{namespace:e})}))};var De=function(){var e=Object(m.j)();return r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"".concat(e.path,"/new")},r.a.createElement(ze,null)),r.a.createElement(m.b,{path:"".concat(e.path,"/:namespaceId/deploy/next")},r.a.createElement(Re,null)),r.a.createElement(m.b,{path:"".concat(e.path,"/:namespaceId")},r.a.createElement(Me,null)))};var Be=function(){var e=y("/dashboards"),a=Object(i.a)(e,1)[0];return a.data,a.loading?r.a.createElement("div",null,"loading"):r.a.createElement("div",null,"Home")},He=t(219),Je=t.n(He);var qe=function(e,a){var t=Object(n.useState)((function(){try{var t=JSON.parse(window.localStorage.getItem(e)||"");return t||a}catch(n){return a}})),r=Object(i.a)(t,2),c=r[0],l=r[1];return[c,function(a){try{l(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(t){console.log(t)}},function(){l(void 0),window.localStorage.removeItem(e)}]},Ge=function(){var e=qe("auth"),a=Object(i.a)(e,3),t=a[0],n=a[1];return[t,function(e){j(e),n(e)},a[2]]},Ke=ne.a.Sider,We=ne.a.Header,Ye=ne.a.Content,Qe=ne.a.Footer;function Xe(e){for(var a=0,t=0;t<e.length;t++)a=e.charCodeAt(t)+((a<<5)-a);return a}function Ze(e){var a=(16777215&e).toString(16).toUpperCase();return"#".concat("00000".substring(0,6-a.length)+a)}function $e(){var e=Object(m.j)(),a=Object(m.g)(),t=Ge(),c=Object(i.a)(t,1)[0],l=Object(n.useState)(!1),u=Object(i.a)(l,2),s=u[0],p=u[1],d=[{label:"Home",icon:oe.a,rootComponent:Be,url:"/"},{label:"Repositories",icon:ie.a,rootComponent:xe,url:"/github"},{label:"Applications",icon:me.a,rootComponent:W,url:"/application"},{label:"Microfrontends",icon:ue.a,rootComponent:te,url:"/microfrontend"},{rootComponent:we,url:"/profile"},{rootComponent:De,url:"/namespaces"}],E=Object.assign([],d);E.reverse();var f=E.length-E.findIndex((function(t){return a.location.pathname.replace(e.path,"").startsWith(t.url)}))-1,b={className:"App__menu-collapser",onClick:function(){return p(!s)}};return r.a.createElement(ne.a,null,r.a.createElement(Ke,{collapsible:!0,trigger:null,collapsed:s},r.a.createElement(o.b,{to:"".concat(e.path,"/")},r.a.createElement("div",{className:"App__logo-name"},r.a.createElement("img",{src:Je.a,className:"App__logo",alt:"logo"}),r.a.createElement("span",{className:"App__label"},"Marketplace"))),r.a.createElement(re.a,{selectedKeys:[f.toString()],theme:"dark",mode:"inline"},d.filter((function(e){return e.label&&e.icon})).map((function(a,t){return r.a.createElement(re.a.Item,{key:t,icon:a.icon&&r.a.createElement(a.icon,null)},r.a.createElement(o.b,{to:"".concat(e.path).concat(a.url)},a.label))})))),r.a.createElement(ne.a,null,r.a.createElement(We,{className:"App__header"},s?r.a.createElement(se.a,b):r.a.createElement(pe.a,b),r.a.createElement("div",{className:"App__header-actions"},r.a.createElement(x.a,null,r.a.createElement("a",{href:"/create-micro-react-app/docs/getting-started",style:{display:"flex",alignItems:"center"}},r.a.createElement(de.a,{style:{fontSize:"24px"}})),r.a.createElement(ce.a,{overlay:r.a.createElement(re.a,{style:{marginTop:"8px"}},r.a.createElement(re.a.Item,{key:"0"},r.a.createElement(o.b,{to:"".concat(e.path,"/profile")},"Profile")),r.a.createElement(re.a.Divider,null),r.a.createElement(re.a.Item,null,r.a.createElement(o.b,{to:"/logout"},"Logout"))),trigger:["click"]},r.a.createElement(le.a,{className:"App__header-avatar",style:{backgroundColor:Ze(Xe(c.name))},alt:"avatar"},c.name.split(" ").map((function(e){return e.charAt(0)})).join("")))))),r.a.createElement(Ye,{style:{padding:"18px"}},r.a.createElement(m.d,null,E.map((function(a,t){var n=a.url,c=a.rootComponent;return r.a.createElement(m.b,{key:t,path:"".concat(e.path).concat(n)},r.a.createElement(c,null))})))),r.a.createElement(Qe,{style:{textAlign:"center"}},"Copyright \xa9 2020 Matheus Martins")))}var ea=function(){return r.a.createElement("div",{className:"App"},r.a.createElement($e,null))};var aa=function(e){var a=e.handleLogin,t=e.handleError,c=e.code,l=v({url:"/oauth/github?code=".concat(c),method:"POST"}),o=Object(i.a)(l,1)[0],m=o.data,u=o.error;return Object(n.useEffect)((function(){m?(a(m),window.location.href="./"):u&&t()}),[m,u,a,t]),r.a.createElement("div",null,"Loading")};var ta=function(){var e=Ge(),a=Object(i.a)(e,3),t=a[0],n=a[2];return t?(n(),window.location.href="/",r.a.createElement(r.a.Fragment,null)):r.a.createElement(r.a.Fragment,null)},na="".concat(window.location.origin).concat("/create-micro-react-app/app");var ra=function(){return r.a.createElement("div",null,r.a.createElement("a",{href:"https://github.com/login/oauth/authorize?client_id=".concat("c30de21bfcd8d3c2b2e4","&redirect_uri=").concat(na)},"login with github"))},ca=t(154),la=function(){var e=Ge(),a=Object(i.a)(e,2),t=a[0],n=a[1],c=Object(m.g)(),l=window.location.search.split("=")[1];return t?r.a.createElement(m.a,{to:"/home"}):l?r.a.createElement(aa,{handleLogin:n,handleError:function(){return c.push("/")},code:l}):r.a.createElement(ra,null)},oa=function(){var e=Ge(),a=Object(i.a)(e,1)[0],t=Object(n.useState)(!1),c=Object(i.a)(t,2),l=c[0],o=c[1];return a?(l||(j(a),o(!0)),r.a.createElement(ea,null)):r.a.createElement(m.a,{to:"/"})};ca.a.initialize("UA-167556761-1");var ia=function(e){ca.a.pageview(e.pathname+e.search)};var ma=Object(m.k)((function(e){var a=e.history;return Object(n.useEffect)((function(){ia(a.location),a.listen((function(e){ia(e)}))}),[]),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/"},r.a.createElement(la,null)),r.a.createElement(m.b,{path:"/home"},r.a.createElement(oa,null)),r.a.createElement(m.b,{path:"/logout"},r.a.createElement(ta,null)))}));var ua=function(){return r.a.createElement(o.a,null,r.a.createElement(ma,null))};l.a.render(r.a.createElement(ua,null),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.9ffb142b.chunk.js.map